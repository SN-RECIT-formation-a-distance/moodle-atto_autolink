YUI.add("moodle-atto_recitautolink-button",function(t,e){t.namespace("M.atto_recitautolink").Button=t.Base.create("button",t.M.editor_atto.EditorPlugin,[],{initializer:function(){this.get("courseid")&&this.addButton({title:"pluginname",icon:"html",iconComponent:"atto_recitautolink",callback:this.openModal,buttonName:"recitautolink"})},openModal:function(t){var e,i;t.preventDefault(),e=(i=M.cfg.wwwroot)+"/lib/editor/atto/plugins/recitautolink/build/index.js",t=i+"/lib/editor/atto/plugins/recitautolink/build/index.css",(i=document.createElement("div")).setAttribute("id","recitautolink_container"),this.createPopup(i),document.getElementById("recitautolink")?this.loadUi():((i=document.createElement("script")).onload=this.loadUi.bind(this),i.setAttribute("src",e),i.setAttribute("id","recitautolink"),i.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(i),(i=document.createElement("link")).setAttribute("href",t),i.setAttribute("rel","stylesheet"),document.getElementsByTagName("head")[0].appendChild(i))},createPopup:function(t){let e=document.createElement("div");e.classList.add("modal","fade","autolink_popup");let i=document.createElement("div");i.classList.add("modal-dialog"),e.appendChild(i);let n=document.createElement("div");n.classList.add("modal-content"),n.setAttribute("style","min-height:500px;min-width:500px;padding:15px"),i.appendChild(n);let d=document.createElement("div");d.classList.add("modal-header"),d.innerHTML="<h2>"+M.util.get_string("pluginname","atto_recitautolink")+"</h2>",n.appendChild(d);let o=document.createElement("button");o.classList.add("close"),o.innerHTML='<span aria-hidden="true">&times;</span>',o.setAttribute("data-dismiss","modal"),d.appendChild(o);let a=document.createElement("div");a.classList.add("modal-body"),n.appendChild(a),a.appendChild(t),document.body.appendChild(e),this.popup=e,$(e).modal({show:!0,backdrop:!0});let l=this;$(".modal-backdrop").click(()=>$(this.popup).modal("hide")),$(e).on("hidden.bs.modal",function(t){l.destroy()})},destroy:function(){$(this.popup).modal("hide"),this.popup.remove()},update:function(){$(this.popup).modal("handleUpdate")},loadUi:function(){window.openRecitAutolinkUI&&(window.openRecitAutolinkUI(this),this.update())},close:function(e){if(this.destroy(),e){let t=this.get("host");t.focus(),t.insertContentAtFocusPoint(e)}}},{ATTRS:{courseid:{value:!1}}})},"@VERSION@");