YUI.add("moodle-atto_recitautolink-button",function(t,e){t.namespace("M.atto_recitautolink").Button=t.Base.create("button",t.M.editor_atto.EditorPlugin,[],{initializer:function(){this.get("courseid")&&this.addButton({title:"pluginname",icon:"html",iconComponent:"atto_recitautolink",callback:this.openModal,buttonName:"recitautolink"})},openModal:function(t){var e;t.preventDefault(),t=M.cfg.wwwroot+"/lib/editor/atto/plugins/recitautolink/react/build/index.js",(e=document.createElement("div")).setAttribute("id","recitautolink_container"),this.createPopup(e),document.getElementById("recitautolink")?this.loadUi():((e=document.createElement("script")).onload=this.loadUi.bind(this),e.setAttribute("src",t),e.setAttribute("id","recitautolink"),e.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(e))},createPopup:function(t){var e=document.createElement("div"),i=(e.classList.add("modal","fade","autolink_popup"),e.setAttribute("style","overflow-y: hidden;"),document.createElement("div")),o=(i.classList.add("modal-dialog"),i.classList.add("modal-xl"),e.appendChild(i),document.createElement("div")),i=(o.classList.add("modal-content"),i.appendChild(o),document.createElement("div")),a=(i.classList.add("modal-header"),i.innerHTML="<h2>"+M.util.get_string("pluginname","atto_recitautolink")+"</h2>",o.appendChild(i),document.createElement("button")),a=(a.classList.add("close"),a.innerHTML='<span aria-hidden="true">&times;</span>',a.setAttribute("data-dismiss","modal"),a.onclick=this.destroy.bind(this),i.appendChild(a),document.createElement("div"));a.classList.add("modal-body"),o.appendChild(a),a.appendChild(t),document.body.appendChild(e),this.popup=e,this.popup.classList.add("show"),this.backdrop=document.createElement("div"),this.backdrop.classList.add("modal-backdrop","fade","show"),this.backdrop.setAttribute("data-backdrop","static"),document.body.appendChild(this.backdrop)},destroy:function(){this.popup.classList.remove("show"),this.backdrop.classList.remove("show"),this.popup.remove(),this.backdrop.remove(),this.appReact&&this.appReact.unmount()},appReact:null,update:function(){},loadUi:function(){window.openRecitAutolinkUI&&(this.appReact=window.openRecitAutolinkUI(this))},close:function(t){var e;this.destroy(),t&&((e=this.get("host")).focus(),e.insertContentAtFocusPoint(t))}},{ATTRS:{courseid:{value:!1}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});