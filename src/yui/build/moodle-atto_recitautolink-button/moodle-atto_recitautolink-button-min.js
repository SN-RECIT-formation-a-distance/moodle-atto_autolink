YUI.add("moodle-atto_recitautolink-button",function(t,e){t.namespace("M.atto_recitautolink").Button=t.Base.create("button",t.M.editor_atto.EditorPlugin,[],{initializer:function(){this.get("courseid")&&this.addButton({title:"pluginname",icon:"html",iconComponent:"atto_recitautolink",callback:this.openModal,buttonName:"recitautolink"})},openModal:function(t){var e;t.preventDefault(),t=M.cfg.wwwroot+"/lib/editor/atto/plugins/recitautolink/react/build/index.js",(e=document.createElement("div")).setAttribute("id","recitautolink_container"),this.createPopup(e),document.getElementById("recitautolink")?this.loadUi():((e=document.createElement("script")).onload=this.loadUi.bind(this),e.setAttribute("src",t),e.setAttribute("id","recitautolink"),e.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(e))},createPopup:function(t){var e=document.createElement("div"),i=(e.classList.add("modal","fade","autolink_popup"),e.setAttribute("style","overflow-y: hidden;"),document.createElement("div")),o=(i.classList.add("modal-dialog"),e.appendChild(i),document.createElement("div")),i=(o.classList.add("modal-content"),o.setAttribute("style","width:650px;"),i.appendChild(o),document.createElement("div")),d=(i.classList.add("modal-header"),i.innerHTML="<h2>"+M.util.get_string("pluginname","atto_recitautolink")+"</h2>",o.appendChild(i),document.createElement("button")),d=(d.classList.add("close"),d.innerHTML='<span aria-hidden="true">&times;</span>',d.setAttribute("data-dismiss","modal"),i.appendChild(d),document.createElement("div"));d.classList.add("modal-body"),o.appendChild(d),d.appendChild(t),document.body.appendChild(e),this.popup=e,$(e).modal({show:!0,backdrop:!0});let n=this;$(".modal-backdrop").click(()=>$(this.popup).modal("hide")),$(e).on("hidden.bs.modal",function(t){n.destroy()})},destroy:function(){$(this.popup).modal("hide"),this.popup.remove()},update:function(){$(this.popup).modal("handleUpdate")},loadUi:function(){window.openRecitAutolinkUI&&(window.openRecitAutolinkUI(this),this.update())},close:function(t){var e;this.destroy(),t&&((e=this.get("host")).focus(),e.insertContentAtFocusPoint(t))}},{ATTRS:{courseid:{value:!1}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin"]});